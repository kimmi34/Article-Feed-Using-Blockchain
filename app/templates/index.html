<!-- extend base layout -->
{% extends "base.html" %}

{% block content %}
	<br>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
		  <span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
		  <ul class="navbar-nav">
			<li class="nav-item active">
			  <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
			</li>
		  </ul>
		</div>
	  </nav>

	<center>
		<br>
		<br>
		<div class="jumbotron" style="background-color: cornflowerblue;">
			<h1 class="display-4">Article Feed!</h1>
			<hr class="my-4">
			<p>Want to share your views? Here's the platform to write your voice.....</p>
		</div>
		<div class="inputarticle">
			<form action="/submit" id="textform" method="post">
				<div class="form-group">
				  <label for="title">Title</label>
				  <input type="text" class="form-control" id="title" name="title">
				  <small class="form-text text-muted">Keep your title concise and catchy :)</small>
				</div>
				<br>
				<br>
				<div class="form-group">
				  <label for="keywords">Keywords</label>
				  <input type="text" name="keywords" class="form-control" id="keywords">
				</div>
				<br>
				<div class="form-group">
					<label for="content">Content</label>
					<textarea class="form-control" id="content" name="content" rows="10"></textarea>
				  </div>
				  <br>
				<div class="form-group">
					<label for="author">Author Name</label>
					<input type="text" name="author" class="form-control" id="author">
			    </div>
				<button type="submit" class="btn btn-success">Submit</button>
			  </form>
		</div>
	
	</center>

	<br>
	<br>
	<a style="margin-left: 20px;" href="{{node_address}}/mine" target="_blank"><button type="button" class="btn btn-outline-dark">Request to Mine</button></a>
	<a style="margin-left: 20px;" href="/"><button type="button" class="btn btn-outline-danger text-right">Refresh</button></a>
	<br>
	<br>
	<br>
<hr style="border-top: 2px solid rgb(75, 70, 70);">
<br>
<center>
	<div>
	<br>
	{% for post in posts %}
	<br>
	<div>
		<div class="card" style="width: 60%; background-color: rgb(207, 226, 228);">
			<div class="card-body" style="text-align: left;">
				<div style="background: rgb(0, 97, 146) none repeat scroll 0% 0%; box-shadow: rgb(0, 97, 146) 0px 0px 0px 2px;" class="post_box-avatar">{{post.author[0]}}</div>
			  <h5 class="card-title">{{post.title}}</h5>
			  <h6 class="card-subtitle mb-2 text-muted">Posted at <i>{{readable_time(post.timestamp)}}</i></h6>
			  <h6 class="card-title">Keywords: {{post.keywords}}</h6> 
			  <p class="card-text">{{post.content}}</p>
			  <h6 class="card-title"><i> - {{post.author}}</i></h6>
			</div>
		  </div>
	</div>
	<br>
	<br>
	{% endfor %}
</center>

	

	<style>

		.inputarticle{
			margin-left: 25%;
			margin-right: 25%;
		}

		.articles{
			width:60%;
		}

		.post_box-avatar {
		    width: 38px;
		    height: 38px;
		    border-radius: 50%;
		    display: flex;
		    justify-content: center;
		    align-items: center;
		    color: white;
		    font-size: 22px;
		    float: left;
		    margin-right: 16px;
		    border: 1px solid #fff;
		    box-shadow: 0px 0px 0px 2px #f00;
		}
	</style>
{% endblock %}